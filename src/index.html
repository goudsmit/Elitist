<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Elitist - An E:D Companion App</title>
    <!-- CSS -->
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../node_modules/@fortawesome/fontawesome-free/css/all.css">
    <link rel="stylesheet" href="./css/elitist.css">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>
      let $ = require('jquery');
      require('popper.js');
      require('bootstrap');
  </script> 
    <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
  </head>
  <body>

    <div class="d-none align-items-center justify-content-center app-overlay" id="overlay-container"></div>
    
    <div class="justify-content-center align-items-center h-100 main-app" id="app-container">
     

      <!-- Top Panel -->
      <div class="d-flex align-items-end topPanel">
        <div class="d-flex flex-column align-items-start mb-2 p-1">
          <div class="appTitle px-1">Journal</div>
          <div class="appSubTitle px-2">Detailed Log <span id="gameStatus" class="">Offline</span></div>
        </div>
        <div class="d-flex flex-column align-items-end ml-auto mb-2 p-1">
          <div class="appTime px-1" id="time">Time</div>
          <div class="appDate px-1" id="shortdate">Date</div>
        </div>
      </div>

      <div class="w-100 d-flex flex-row contentPanel">
        <!-- Left Panel-->
        <div class="d-flex flex-column align-items-end mx-1 leftPanel">
          <!-- cmdrCard -->
          <div class="card w-100 px-1 pt-1 cmdrCard Panel" onload="elitist.updateCmdr()">
            <div class="card-body d-flex flex-column p-0 px-1 my-1">
              <div class="name">CMDR <span id="cmdrName">Placeholder</span></div>
              <div class="ship" id="cmdrShip">Shippy McShipFace</div>
              <div class="credits"><span id="cmdrCredits">0</span> Cr</div>
            </div>            
          </div>
          <!-- shipCard -->
          <div class="card w-100 px-1 shipCard Panel">
            <div class="card-header p-0 text-right">Ship</div>
              <div class="card-body d-flex flex-column p-0 px-1">
                  <div class="d-flex flex-row">
                      <div class="mr-auto desc">Name</div>
                      <div class="val" id="shipName">-</div>
                  </div>
                  <div class="d-flex flex-row">
                      <div class="mr-auto desc">ID</div>
                      <div class="val" id="shipID">-</div>
                  </div>
                  <div class="d-flex flex-row">
                      <div class="mr-auto desc">Type</div>
                      <div class="val" id="shipType">-</div>
                  </div>
                  <div class="d-flex flex-row">
                      <div class="mr-auto desc">Value</div>
                      <div class="val"><span id="shipHullValue">-</span> CR</div>
                  </div>
                  <div class="d-flex flex-row">
                      <div class="mr-auto desc">Rebuy</div>
                      <div class="val"><span id="shipRebuy">-</span> CR</div>
                  </div>
                  <div class="d-flex flex-row">
                      <div class="mr-auto desc">Health</div>
                      <div class="val"><span id="shipHealth"></span>%</div>
                  </div>
              </div>
          </div>
          <!-- rankCard -->
          <div class="card w-100 px-1 mt-2 rankCard Panel">
            <div class="card-header p-0 text-right">Ranks</div>
            <div class="card-body d-flex flex-column p-0">
              <!-- Trade -->
              <div class="d-flex flex-row rank" id="tradeRank">
                <div class="mr-auto pl-1 desc">trade</div>
                <div class="pr-1 val"><span class="elite"></span></div>
                <div class="progress">
                    <div class="progress-bar" id="tradeProgress" role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <!-- Exploration -->
              <div class="d-flex flex-row rank" id="exploreRank">
                <div class="mr-auto pl-1 desc">exploration</div>
                <div class="pr-1 val"></div>
                <div class="progress">
                    <div class="progress-bar" id="exploreProgress" role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <!-- Combat -->
              <div class="d-flex flex-row rank" id="combatRank">
                <div class="mr-auto pl-1 desc">combat</div>
                <div class="pr-1 val"></div>
                <div class="progress">
                    <div class="progress-bar" id="combatProgress" role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <!-- Empire -->
              <div class="d-flex flex-row mt-1 rank empire" id="empireRank">
                <div class="mr-auto pl-1 desc">Empire</div>
                <div class="pr-1 val"></div>
                <div class="progress">
                    <div class="progress-bar" id="empireProgress" role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <!-- Federation -->
              <div class="d-flex flex-row rank federation" id="federationRank">
                <div class="mr-auto pl-1 desc">federation</div>
                <div class="pr-1 val"></div>
                <div class="progress">
                    <div class="progress-bar" id="federationProgress" role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              
            </div>
          </div>
          <!-- materialsCard-->
          <div class="card w-100 px-1 mt-3 mb-2 materialsCard Panel">
            <nav>
              <div class="nav nav-tabs justify-content-end" id="nav-tab" role="tablist">
                  <a class="nav-item nav-link" id="nav-cargo-tab" data-toggle="tab" href="#nav-cargo" role="tab" aria-controls="nav-cargo" aria-selected="true">Cargo</a>
                  <a class="nav-item nav-link active" id="nav-materials-tab" data-toggle="tab" href="#nav-materials" role="tab" aria-controls="nav-materials" aria-selected="false">Materials</a>
              </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
              <div class="tab-pane fade cargo-list" id="nav-cargo" role="tabpanel" aria-labelledby="nav-cargo-tab">
                  <table class="table table-sm w-100">
                      <thead>
                      <tr>
                          <th scope="col" class="w-100">Item</th>
                          <th scope="col" class="text-right">QTY</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr class="no-cargo">
                          <td colspan="2" class="text-center">No Cargo</td>
                      </tr>
                      <tr class="no-limpets" id="limpet-state">
                          <td colspan="2" class="text-center"><i class="fas fa-exclamation-triangle pr-2"></i>No Limpets Found</td>
                      </tr>
                      </tbody>
                  </table>
              </div>
              <div class="tab-pane fade show active material-list" id="nav-materials" role="tabpanel" aria-labelledby="nav-materials-tab">
                <div class="btn-group d-flex filter" role="group" data-toggle="buttons" id="materialFilter">
                  <label class="btn btn-secondary active"><input type="radio" name="material" value="" autocomplete="off" checked />All</label>
                  <label class="btn btn-secondary btn-labeled"><input type="radio" name="material" value="Encoded" autocomplete="off" />Encoded</label>
                  <label class="btn btn-secondary btn-labeled"><input type="radio" name="material" value="Manufactured" autocomplete="off"/>Manufactured</label>
                  <label class="btn btn-secondary btn-labeled"><input type="radio" name="material" value="Raw" autocomplete="off"  />Raw</label>
                </div>
                  <table class="table table-sm">
                      <thead>
                      <tr>
                          <th scope="col"></th>
                          <th scope="col" class="w-100">Item</th>
                          <th scope="col" class="text-right">QTY</th>
                      </tr>
                      </thead>
                      <tbody id="materialTable">
                          <!-- loadMaterials() -->
                      </tbody>
                  </table>
              </div>
            </div>
          </div>
          <!-- logCard -->
          <div class="card w-100 px-1 pb-1 mt-auto logCard Panel" id="appLog">
            <div class="card-header text-right p-0">Log</div>
            <div class="card-body d-flex flex-column p-0 px-1">
              
            </div>   
          </div>       
        </div>
        <!-- Right Panel -->
        <div class="d-flex flex-column mx-1 rightPanel">
          <!-- Overlay whilst being in Witchspace -->
          <div class="card h-100 justify-content-center align-items-center px-2 panelOverlay d-none" id="jumpOverlay">
            <div class="text-center"><i class="fa fa-sun fa-spin"></i></div>
            <div class="text-center desc">Destination</div>
            <div class="text-center destination" id="jumpDestination">Somewhere</div>
          </div>
          <!-- systemCard -->
          <div class="card mt-2 px-2 systemCard Panel" id="systemCard">
            <div class="card-header d-flex flew-row align-items-center p-0 mb-2">
              <div class="card-icon p-1 mr-1"><i class="fas fa-sun fa-2x"></i></div>
              <div class="flex-fill">
                <div class="title" id="systemName">StarName</div>
                <div class="d-flex flex-row sub-title">
                  <div class="mr-auto">Star System</div>
                  <div class="" id="dockingStatus">Docked</div>
                </div>
              </div>
            </div>
            <div class="card-body d-flex flex-column p-0 px-1">
              <!-- System Information -->
              <div class="d-flex flex-row system mx-2 my-1">
                <div class="flex-row w-50">
                  <div class="flex-row">
                    <div class="description">Allegiance</div>
                    <div id="systemAllegiance">none</div>
                  </div>
                  <div class="flex-row">
                    <div class="description">Government</div>
                    <div id="systemGovernment">none</div>
                  </div>
                  <div class="flex-row">
                    <div class="description">Population</div>
                    <div id="systemPopulation">0</div>
                  </div>
                </div>
                <div class="flex-row w-50 text-right">
                  <div class="flex-row">
                    <div class="description">Economy</div>
                    <div>
                      <span id="systemFirstEconomy">none</span
                      ><span id="systemSecondEconomy"></span>
                    </div>
                  </div>
                  <div class="flex-row">
                    <div class="description">Security</div>
                    <div id="systemSecurity">none</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- dockingCard -->
          <div class="card mt-2 mx-2 dockingCard Panel" id="dockCard">
            <div class="d-flex flex-column py-3">
              <div class="d-flex flex-row bodyHeader">
                <div class="pl-3 dockRequest" id="dockRequestStatus"></div>
                <div class="flex-fill pr-2 pl-3">
                  <div class="title text-right" id="bodyName">bodyName</div>
                  <div class="sub-title text-right" id="bodyType">bodyType</div>
                </div>
              </div>
              <div class="d-none flex-row text-right bodyPolitical" id="dockDetails">
                <div class="flex-row pr-2 pl-3">
                  <div class="description mt-2" id="bodyAllegiance">bodyAllegance</div>
                  <div id="bodyFaction">bodyFaction</div>
                  <div class="description mt-1" id="bodyGovernment">bodyGovernment</div>
                  <div id="bodyEconomy">bodyEconomy</div>
                </div>
                <div class="p-2 d-none dockingServices" id="bodyServices"></div>
              </div>
            </div>
          </div>
          <!-- systemBodiesCard -->
          <div class="card px-2 mt-3 systemBodiesCard Panel" id="systemBodiesCard">
            <div class="card-header p-0 text-right">Known System Bodies</div>
            <ul class="systemBodies" id="systemBodies" data-system-address="">
            </ul>
          </div>          
          <!-- shipsCard -->
          <div class="card d-none mt-3 shipsCard">Ships<br /></div>
          <!-- engineersCard -->    
          <div class="card d-none mt-3 engineersCard">Engineers<br /></div>
        </div>
      </div>

    <script src="./js/elitist.js"></script>
    <script>
      // Document Ready
      $(function() {
        console.log("DOM Ready")
      });
    </script>
  </body>
</html>
